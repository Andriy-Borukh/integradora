<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::body})}">

<body>
<div th:fragment="formulario">
    <form th:action="@{/registro}" method="post" th:object="${empleado}" enctype="multipart/form-data">
        <!-- Paso 1 -->
        <div class="paso" id="paso-1" style="display: block;">
            <h1 id="titulo">Paso 1: Información personal</h1>
            <label id="toggle-label">
                <input type="checkbox" id="toggle-idioma" onchange="cambiarIdioma()"> Ver en inglés
            </label>
            <label>
                <span id="lbl-nombre-label">Nombre:</span>
                <input type="text" th:field="*{nombre}" placeholder="Nombre">
            </label>
            <p th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}" class="error"></p>
            <label>
                <span id="lbl-apellido-label">Apellidos:</span>
                <input type="text" th:field="*{apellidos}" placeholder="Apellido">
            </label>
            <p th:if="${#fields.hasErrors('apellidos')}" th:errors="*{apellidos}" class="error"></p>
            <label>
                <span id="lbl-email-label">Email:</span>
                <input type="email" th:field="*{email}" placeholder="Email">
            </label>
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="error"></p>
            <label>
                <span id="lbl-dni-label">DNI:</span>
                <input type="text" th:field="*{dni}" placeholder="DNI">
            </label>
            <p th:if="${#fields.hasErrors('dni')}" th:errors="*{dni}" class="error"></p>
            <label>
                <span id="lbl-fecha-label">Fecha de nacimiento:</span>
                <input type="date" th:field="*{fechaNacimiento}">
            </label>
            <p th:if="${#fields.hasErrors('fechaNacimiento')}" th:errors="*{fechaNacimiento}" class="error"></p>
            <button type="button" onclick="mostrarPaso(2)">Siguiente</button>
        </div>
        <!-- Paso 2 -->
        <div class="paso" id="paso-2" style="display: none;">
            <h1>Step 2: Professional Data</h1>
            <label>Job Title:
                <input type="text" th:field="*{jobTitle}" placeholder="e.g. Software Developer">
            </label>
            <p th:if="${#fields.hasErrors('jobTitle')}" th:errors="*{jobTitle}" class="error"></p>
            <label>Department:
                <input type="text" th:field="*{department}" placeholder="e.g. IT">
            </label>
            <p th:if="${#fields.hasErrors('department')}" th:errors="*{department}" class="error"></p>
            <label>Boss:
                <input type="text" th:field="*{boss}" placeholder="e.g. John Smith">
            </label>
            <label>Start Date:
                <input type="date" th:field="*{startDate}">
            </label>
            <button type="button" onclick="mostrarPaso(1)">Back</button>
            <button type="button" onclick="mostrarPaso(3)">Next</button>
        </div>
        <!-- Paso 3 -->
        <div class="paso" id="paso-3" style="display: none;">
            <h1>Paso 3: Confirmación y opciones</h1>
            <label>Subir archivo:
                <input type="file" th:field="*{archivo}">
            </label>
            <label>
                <input type="checkbox" id="toggle-estilos" onchange="cambiarEstilos()" checked>
                Aplicar estilos CSS
            </label>
            <label>
                <input type="checkbox" id="toggle-validaciones" onchange="cambiarValidaciones()" checked>
                Activar validaciones
            </label>
            <button type="button" onclick="mostrarPaso(2)">Atrás</button>
            <button type="submit">Enviar</button>
        </div>
    </form>
</div>
<!-- FRAGMENTO DE SCRIPT -->
<script th:fragment="script" th:src="@{/js/registro.js}"></script>
<link th:href="@{/css/registro.css}" rel="stylesheet" th:fragment="script"/>
</body>

</html>
